# 개념 정리 

https://velog.io/@jxlhe46/OS-Ch9.-메인-메모리

# 면접 예상 질문 

<details>
<summary>절대 주소 지정과 상대 주소 지정의 차이점은 뭘까요?</summary>

- 절대 주소 지정: 물리적 메모리의 실제 주소 지정 
- 상대 주소 지정: 배열의 인덱스처럼 시작 주소로부터의 상대적 위치로 주소 지정 

</details>
<br>

<details>
<summary>메모리 분할에 대해 설명해주세요.</summary>

메모리 분할은 여러 프로그램을 번갈아가면서 수행하는 멀티 프로그래밍 환경에서, **여러 프로그램을 메모리에 적재시키기 위해 메모리 공간을 분할하는 것**이다.

- 프로그램 전체를 메모리에 올리는 **연속 할당 방식** 
  - **고정 분할 방식**: 메모리를 고정 크기로 분할 
    - 내부, 외부 단편화 모두 발생 
  - **가변 분할 방식**: 메모리를 프로세스 크기에 따라 분할
    - 내부 단편화 X
    - 외부 단편화 O (동적 메모리 할당 문제)
- 프로세스를 여러 조각으로 나눠서 메모리에 올리는 **불연속 할당 방식** 
  - **페이징**: 프로세스를 동일한 크기의 페이지로 분할 
  - **세그먼테이션**: 프로세스를 의미 단위의 세그먼트로 분할 

</details>
<br>

<details>
<summary>메모리 배치 기법(메모리 관리 전략)에 대해 설명해주세요.</summary>

프로그램 전체를 메모리에 적재하는 연속 할당 방식에서는 메모리의 분할 크기와 프로세스 크기의 차이로 인해 외부 조각 또는 내부 조각이 생길 수 있다.

메모리의 외부 조각을 최대한 활용하기 위해 프로세스를 어떤 공간에 할당할지 정해야 하는데, 이를 메모리 배치 기법 또는 동적 메모리 할당 문제라고 한다. 

크기가 N인 프로세스를 메모리에 할당하는 방식으로 다음 3가지가 있다. 

- First-Fit: 가장 첫번째로 발견된 hole에 할당 
- Best-Fit: 가장 작은 hole에 할당 
- Worst-Fit: 가장 큰 hole에 할당 
- hole의 크기가 N 이상일 때만 할당 가능 

</details>
<br>

<details>
<summary>외부 단편화와 내부 단편화의 차이가 뭔가요?</summary>

- 외부 단편화: 메모리의 가용 공간 크기 < 프로세스 크기 -> 프로세스 할당하지 못해서 생기는 빈 공간 
- 내부 단편화: 메모리의 가용 공간 크기 > 프로세스 크기 -> 프로세스 할당하고 나서 남는 빈 공간 

</details>
<br>

<details>
<summary>메모리 배치 기법중 하나인 colaescing(통합)에 대해 설명해주세요.</summary>

인접한 외부 조각 또는 빈 메모리 공간을 합쳐서 더 큰 빈 공간을 만드는 방법 

</details>
<br>

<details>
<summary>메모리 배치 기법중 하나인 compaction(압축)에 대해 설명해주세요.</summary>

여러 개의 외부 조각을 메모리의 한쪽으로 모아서 더 큰 빈 공간을 만드는 방법 

실행 중인 프로세스의 위치를 변경할 때 드는 오버헤드가 크다.

</details>
<br>

<details>
<summary>메모리 배치 기법중 하나인 버디 시스템에 대해 설명해주세요.</summary>

프로세스에 메모리를 할당 및 해제할 때 빈 공간을 서로 합치거나 분할함으로써, 프로세스에 가장 적합한 크기의 메모리를 할당하는 방법 

</details>
<br>

<details>
<summary>메모리 배치 기법중 하나인 페이징에 대해 설명해주세요.</summary>

페이징이란 **프로세스의 주소 공간을 일정한 크기의 페이지로 나눠서, 메모리 상의 서로 다른 위치에 적재하는 방법**이다. 

- 메모리는 페이지와 동일한 크기의 프레임으로 나눠져 있기 때문에, 외부 조각은 생기지 않는다. 
- 프로세스 크기가 항상 페이지 크기의 배수는 아니기 때문에, 내부 조각은 생길 수 있다. 

CPU가 생성한 논리 주소를 실제 물리 주소로 변환하기 위한 페이지 테이블이 있어야 한다. 

이 페이지 테이블 또한 메모리에 위치하기 때문에, 주소 변환을 위해 페이지 테이블과 실제 데이터를 참조하는 과정에서 오버헤드가 든다. 

이 오버헤드를 줄이기 위해 TLB라는 고속의 하드웨어 캐시를 이용해, 자주 참조되는 페이지에 대한 주소 변환 정보를 캐싱해둘 수 있다. 

</details>
<br>

<details>
<summary>메모리 배치 기법중 하나인 세그먼테이션에 대해 설명해주세요.</summary>

세그먼테이션이란 **프로세스의 주소 공간을 의미 단위의 세그먼트로 나눠서, 메모리 상의 서로 다른 위치에 적재하는 방법**이다. 

- 장점: 코드, 데이터, 스택 같은 의미 단위로 주소 공간을 분할하므로, 데이터 공유와 보안 측면에서 페이징보다 효과적이다. 
- 단점: 각 세그먼트의 크기가 일정하지 않아서 외부 조각이 발생할 수 있고, 이에 따라 프로세스를 어느 가용 공간에 할당해야 할지 결정해야 한다. 

</details>
<br>

<details>
<summary>Swapping이란 무엇인가요?</summary>

메모리에 올라간 프로세스 개수가 너무 많으면, 한 프로세스에 할당된 메모리 크기가 극도로 감소하여 시스템 성능이 저하될 수 있다. 

따라서, 중기 스케줄러가 디스크로 쫓아낼 프로세스를 선정하여, 프로세스 전체를 일시적으로 디스크로 swap out 시킬 수 있다. 

이후 메모리의 가용 공간이 생기면 다시 swap in 하여, 메모리에서 동시에 실행되는 프로세스 개수를 조절하는 기법을 스와핑이라고 한다. 

</details>
<br>

<details>
<summary>Swapping의 과정을 설명해 주세요.</summary>

- 중기 스케줄러가 스왑 아웃할 프로세스를 선정한다. 
- 스왑 아웃 대상으로 선정된 프로세스는 주소 공간 전체가 디스크로 쫓겨나게 된다. 
- 프로세스 전체가 아니라 페이지 단위로 스와핑 하는 것을 page in/out 이라고 부른다. 

</details>
<br>

<details>
<summary>Swapping의 장단점을 설명해 주세요.</summary>

- 장점: 실제 물리적 메모리의 크기를 초과하여 프로세스를 할당할 수 있다. 
- 단점: 디스크 I/O 작업으로 인한 시간적 오버헤드 발생 

</details>
<br>
